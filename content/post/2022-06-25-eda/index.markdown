---
title: EDA
author: Jullian Schrup
date: '2022-06-25'
slug: eda
categories:
  - R

---



# STEP 1: PCA - FACTOR ANALYSIS

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" />

```
##               [,1]
## var_38  1.00000000
## PC1    -0.10868936
## PC2    -0.54938933
## PC3     0.11059446
## PC4    -0.03883783
## PC5     0.02237427
## PC6     0.34167966
## PC7     0.18964151
## PC8     0.01481907
## PC9     0.36655506
## PC10   -0.19897225
## PC11   -0.23288993
## PC12    0.10957394
## PC13   -0.03229158
## PC14    0.16139539
## PC15    0.04080533
## PC16    0.14192182
## PC17    0.02641140
## PC18    0.07263581
## PC19   -0.02642176
## PC20   -0.02160868
## PC21    0.04956813
## PC22   -0.09008371
## PC23    0.04569367
## PC24    0.21162521
## PC25    0.06042883
## PC26    0.21421249
## PC27   -0.27739782
## PC28    0.09358079
## PC29   -0.06404932
## PC30   -0.16174947
```

```
##            V1
## var_38      1
## PC1    -0.109
## PC2    -0.549
## PC3     0.111
## PC4         -
## PC5         -
## PC6     0.342
## PC7      0.19
## PC8         -
## PC9     0.367
## PC10   -0.199
## PC11   -0.233
## PC12     0.11
## PC13        -
## PC14    0.161
## PC15        -
## PC16    0.142
## PC17        -
## PC18        -
## PC19        -
## PC20        -
## PC21        -
## PC22        -
## PC23        -
## PC24    0.212
## PC25        -
## PC26    0.214
## PC27   -0.277
## PC28        -
## PC29        -
## PC30   -0.162
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-2.png" width="672" />

```
## Warning in arrows(0, 0, y[, 1L] * 0.8, y[, 2L] * 0.8, col = col[2L], length =
## arrow.len): zero-length arrow is of indeterminate angle and so skipped
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-3.png" width="672" />

```
## NULL
```

```
##                 PC1          PC2        PC3         PC4         PC5
## var_6   0.647815845  0.036510607 -0.3020875 -0.18180994 -0.39486579
## var_7  -0.045517273 -0.357876697 -0.4327100 -0.44049403  0.55529442
## var_10 -0.005362904 -0.032614239  0.1705024  0.15444643  0.27495210
## var_11  0.002877866 -0.042094737  0.1129124 -0.10521016 -0.13528718
## var_12 -0.003054743 -0.008111874 -0.0406228  0.04339696 -0.04540779
```

```
##  var_6  var_7 var_10 var_11 var_12 var_13 var_14 var_15 var_16 var_17 var_18 
##   0.04  -0.36  -0.03  -0.04  -0.01   0.00   0.00  -0.01   0.00  -0.89  -0.19 
## var_19 var_20 var_21 var_22 var_23 var_24 var_25 var_26 var_27 var_28 var_29 
##  -0.05  -0.05  -0.09  -0.06   0.00   0.00  -0.11  -0.01  -0.01  -0.01  -0.04 
## var_30 var_31 var_32 var_33 var_34 var_35 var_36 var_37 
##  -0.01  -0.03  -0.06  -0.02  -0.04  -0.05  -0.01   0.00
```

# STEP 2 QST PCA PREDICTION


```
##    mtry    RMSE  Rsquared     MAE   RMSESD RsquaredSD    MAESD
## 1     1 1627792 0.1706627 1269148 522609.0  0.1493514 233287.6
## 2     2 1608873 0.1773831 1251236 532092.2  0.1834078 247226.4
## 3     3 1609233 0.1947599 1252054 536657.2  0.2021006 253689.0
## 4     4 1617444 0.2021053 1257965 524993.6  0.1926016 250797.8
## 5     5 1629839 0.2021944 1261267 526371.0  0.2019580 266816.4
## 6     6 1606179 0.2232630 1241436 536642.9  0.2330013 275437.0
## 7     7 1620023 0.2044408 1253100 532923.7  0.2356724 282808.0
## 8     8 1620611 0.2200714 1258868 532486.2  0.2568926 280529.5
## 9     9 1625631 0.2145184 1250848 538225.4  0.2335797 299026.7
## 10   10 1614979 0.2135462 1239842 536429.9  0.2469111 286330.4
## 11   11 1616473 0.2190864 1241207 535599.1  0.2496420 294630.9
## 12   12 1603881 0.2164129 1226877 537076.9  0.2249164 299792.4
## 13   13 1621089 0.1967015 1245735 531024.3  0.2214514 289340.2
## 14   14 1618482 0.2211306 1232195 540706.1  0.2487896 309981.1
## 15   15 1607619 0.2478290 1235900 544488.3  0.2512171 310325.3
## 16   16 1623998 0.1998369 1245151 532666.9  0.2180500 299012.2
## 17   17 1623148 0.2051493 1238622 530400.3  0.2456953 294603.4
## 18   18 1610562 0.2139158 1233259 541502.3  0.2312988 301324.2
## 19   19 1604756 0.2319298 1225127 542988.2  0.2338116 306185.0
## 20   20 1614098 0.2191390 1237170 533520.5  0.2393411 301325.6
## 21   21 1611321 0.2076435 1230034 544170.4  0.2309331 309218.2
## 22   22 1612973 0.2111960 1228699 540568.6  0.2345110 314166.7
## 23   23 1612884 0.2245491 1233500 543111.5  0.2323123 311578.5
## 24   24 1609141 0.2210046 1234375 545520.4  0.2271112 312540.7
## 25   25 1612058 0.2068130 1236116 536558.7  0.2201043 300318.6
## 26   26 1599913 0.2300623 1217160 549956.2  0.2408335 315499.8
## 27   27 1608119 0.2224154 1232520 553841.9  0.2114036 324199.6
## 28   28 1599652 0.2309692 1229223 539004.8  0.2260255 305103.4
## 29   29 1610761 0.2175469 1234416 546041.7  0.2252888 318339.1
## 30   30 1613438 0.2285710 1231661 551401.6  0.2065561 319593.6
## 31   31 1599707 0.2199477 1226765 558890.5  0.2204087 321035.7
## 32   32 1599315 0.2257082 1226515 562357.7  0.2249112 326389.3
## 33   33 1602501 0.2430465 1224620 558296.8  0.2260639 323450.6
## 34   34 1610378 0.2292977 1234118 550760.0  0.2301349 316884.5
## 35   35 1602709 0.2232362 1229496 548654.3  0.2092120 310410.4
## 36   36 1607907 0.2258710 1234054 552204.6  0.2173359 320090.7
## 37   37 1601016 0.2216288 1228274 549924.1  0.2212912 315966.1
## 38   38 1607385 0.2239728 1232070 551590.6  0.2108359 326376.5
## 39   39 1604351 0.2255685 1228737 549982.4  0.2145505 313823.0
## 40   40 1602016 0.2260699 1229855 555114.9  0.2221327 319170.3
## 41   41 1604254 0.2240870 1237321 558798.7  0.2235939 329166.4
## 42   42 1595469 0.2311920 1223672 550614.5  0.2115380 318802.1
## 43   43 1602830 0.2054956 1232144 543416.9  0.2077961 306958.2
## 44   44 1622330 0.2089390 1249877 540600.3  0.2156992 312426.7
## 45   45 1593415 0.2153609 1218878 556267.1  0.2207807 312344.1
## 46   46 1612825 0.2140373 1234114 540560.1  0.2221159 313616.4
## 47   47 1614705 0.2229342 1236519 542762.8  0.2228495 311408.5
## 48   48 1608032 0.2134166 1235743 549149.8  0.2138321 308921.4
## 49   49 1606363 0.2318413 1227304 550859.7  0.2321331 314126.8
## 50   50 1597584 0.2169748 1222467 553105.7  0.2095669 318677.3
```

```
##       mtry            RMSE            Rsquared           MAE         
##  Min.   : 1.00   Min.   :1593415   Min.   :0.1707   Min.   :1217160  
##  1st Qu.:13.25   1st Qu.:1603974   1st Qu.:0.2095   1st Qu.:1228859  
##  Median :25.50   Median :1609187   Median :0.2195   Median :1234084  
##  Mean   :25.50   Mean   :1610201   Mean   :0.2169   Mean   :1236345  
##  3rd Qu.:37.75   3rd Qu.:1614911   3rd Qu.:0.2253   3rd Qu.:1240866  
##  Max.   :50.00   Max.   :1629839   Max.   :0.2478   Max.   :1269148  
##      RMSESD         RsquaredSD         MAESD       
##  Min.   :522609   Min.   :0.1494   Min.   :233288  
##  1st Qu.:536580   1st Qu.:0.2140   1st Qu.:299016  
##  Median :543050   Median :0.2232   Median :310368  
##  Mean   :543270   Mean   :0.2226   Mean   :303061  
##  3rd Qu.:550724   3rd Qu.:0.2328   3rd Qu.:316655  
##  Max.   :562358   Max.   :0.2569   Max.   :329166
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" />

```
##    actual.var_38  actual.PC1 actual.PC2 actual.PC3 actual.PC4 actual.PC5
## 2       13094660    647.4398 -25474.920 -2256.6847  239.69148   558.4354
## 8       13479647  -8213.5205 -14701.933   232.2777   88.26957  -864.8146
## 9       10953743 -10507.3076 -14393.919 -1996.7444 -693.04227  -720.5918
## 16      10852992 -22542.9271  10486.150   222.4180 -584.69250   859.4453
## 18      11873364 -21540.1265   7865.062   864.6976 -187.97769   907.9271
## 21      12675352 -19194.3470  16785.932  -640.6599 -329.84165  -412.1988
## 25      12395256   9665.8232  14868.229  -931.3207 -389.47765  -180.8251
## 30      11626890  47162.5624   4800.611   318.2281 -486.10531   563.9753
##    actual.PC6 actual.PC7 actual.PC8   actual.PC9 actual.PC10 actual.PC11
## 2   1005.2530  335.90192 -253.22175    0.1047369    84.29595   114.86734
## 8   -542.3567 2134.49117  151.01535 -296.8975049    15.31494   -63.93510
## 9  -1086.8136 -653.03341  160.42307  -80.5398783   213.01169    33.58725
## 16  -391.6009   72.16141 -158.06321 -313.6314852   286.26917  -189.51958
## 18  -157.6949  117.57934   93.56274   68.6954191   -90.06168   117.10928
## 21   361.0906  137.51589   28.33093  252.7184038   -66.61915  -110.81415
## 25   309.4309 -312.81545   36.64083   58.1602405    35.86309   122.74444
## 30  -262.6966  427.67574  349.76406  -93.5071320   -87.19857   -45.81334
##    actual.PC12 actual.PC13 actual.PC14 actual.PC15 actual.PC16 actual.PC17
## 2     57.83241    47.90649   79.524684  -47.834287   14.013367 -22.9489437
## 8    -67.71526    80.82853   -4.104253  -24.517650   -9.803556  -0.4260296
## 9   -282.67734    88.76259   83.987985  133.602769   38.707773  15.3508202
## 16   -38.40229    25.36687  -56.498385   46.270648   38.526657  14.8800635
## 18  -161.55191  -176.40441    2.929076  -53.520584   79.869515  16.9480139
## 21  -209.09091    64.30928   45.943274  -22.514601  -69.745842 -43.1392782
## 25   173.96303   125.03276  -20.059355  -14.403779   54.654537  63.5869511
## 30    52.78031  -193.14013    1.737332   -5.697125  -71.725858  37.2432712
##    actual.PC18 actual.PC19 actual.PC20 actual.PC21 actual.PC22 actual.PC23
## 2     5.467628  -11.973870    6.599999  -20.430373 -10.8875749    1.440474
## 8   -25.029857   -5.309308   29.912997    5.646267  -2.1867985   -5.277829
## 9    -3.292896   49.396410    6.235989   -3.797611  -6.5876797    3.495465
## 16  -31.491626  -29.743607   -1.025584  -14.393891  12.9008952   26.467029
## 18  -50.289408   30.477205  -16.763925  -33.300518  -7.3342843  -22.319657
## 21   22.827952  -10.884791  -11.809374  -17.880686   5.2207532    7.151323
## 25  -72.967752   -8.469638   14.953509   13.254650   6.1025815  -14.830933
## 30    7.389080   31.615410   25.092204  -23.657705   0.8080943    7.956589
##    actual.PC24 actual.PC25 actual.PC26  actual.PC27 actual.PC28 actual.PC29
## 2    -6.349268   7.5803340  -9.1489743  0.008814464  -0.1589082  0.08767676
## 8     3.970636  -5.1348539   0.2526779 -0.786129228   0.1594706 -0.10343414
## 9    -4.615702  -0.8455567  -0.2170192  0.027565137  -0.5033159 -0.11863307
## 16    9.918288   0.9597078  -0.3255387  1.443656327   0.8337846  0.32975984
## 18   -2.204865  -5.0123869   1.1688719 -0.586015507  -0.6307888  0.16838884
## 21  -15.315281   6.1458591   6.0604521 -1.213921756   1.2602970  0.06721598
## 25    4.922422  16.9727958   2.3933536 -0.171448888   1.0237556 -0.15907821
## 30   -8.796112  10.5953080   0.3482075  1.770393897   0.4055260 -0.15073097
##     actual.PC30 predicted
## 2   0.047623189  12804078
## 8   0.049379112  12959999
## 9  -0.031769523  12980964
## 16 -0.005219862  12385345
## 18  0.094202315  12564756
## 21  0.188740809  12436175
## 25  0.053224285  12801836
## 30 -0.188772994  12323825
```

```
## [1] 999903.4
```

```
## [1] 6.960589
```

```
##      var_38              PC1              PC2                PC3         
##  Min.   :10852992   Min.   :-22543   Min.   :-25474.9   Min.   :-2256.7  
##  1st Qu.:11458603   1st Qu.:-19781   1st Qu.:-14470.9   1st Qu.:-1197.7  
##  Median :12134310   Median : -9360   Median :  6332.8   Median : -209.1  
##  Mean   :12118988   Mean   : -3065   Mean   :    29.4   Mean   : -523.5  
##  3rd Qu.:12780179   3rd Qu.:  2902   3rd Qu.: 11581.7   3rd Qu.:  253.8  
##  Max.   :13479647   Max.   : 47163   Max.   : 16785.9   Max.   :  864.7  
##       PC4              PC5               PC6                PC7         
##  Min.   :-693.0   Min.   :-864.81   Min.   :-1086.81   Min.   :-653.03  
##  1st Qu.:-510.8   1st Qu.:-489.30   1st Qu.: -429.29   1st Qu.: -24.08  
##  Median :-359.7   Median : 188.81   Median : -210.20   Median : 127.55  
##  Mean   :-292.9   Mean   :  88.92   Mean   :  -95.67   Mean   : 282.43  
##  3rd Qu.:-118.9   3rd Qu.: 637.84   3rd Qu.:  322.35   3rd Qu.: 358.85  
##  Max.   : 239.7   Max.   : 907.93   Max.   : 1005.25   Max.   :2134.49  
##       PC8               PC9               PC10             PC11         
##  Min.   :-253.22   Min.   :-313.63   Min.   :-90.06   Min.   :-189.520  
##  1st Qu.: -18.27   1st Qu.:-144.35   1st Qu.:-71.76   1st Qu.: -75.655  
##  Median :  65.10   Median : -40.22   Median : 25.59   Median :  -6.113  
##  Mean   :  51.06   Mean   : -50.61   Mean   : 48.86   Mean   :  -2.722  
##  3rd Qu.: 153.37   3rd Qu.:  60.79   3rd Qu.:116.47   3rd Qu.: 115.428  
##  Max.   : 349.76   Max.   : 252.72   Max.   :286.27   Max.   : 122.744  
##       PC12              PC13               PC14              PC15        
##  Min.   :-282.68   Min.   :-193.140   Min.   :-56.498   Min.   :-53.521  
##  1st Qu.:-173.44   1st Qu.: -25.076   1st Qu.: -8.093   1st Qu.:-30.347  
##  Median : -53.06   Median :  56.108   Median :  2.333   Median :-18.459  
##  Mean   : -59.36   Mean   :   7.833   Mean   : 16.683   Mean   :  1.423  
##  3rd Qu.:  54.04   3rd Qu.:  82.812   3rd Qu.: 54.339   3rd Qu.:  7.295  
##  Max.   : 173.96   Max.   : 125.033   Max.   : 83.988   Max.   :133.603  
##       PC16              PC17              PC18              PC19        
##  Min.   :-71.726   Min.   :-43.139   Min.   :-72.968   Min.   :-29.744  
##  1st Qu.:-24.789   1st Qu.: -6.057   1st Qu.:-36.191   1st Qu.:-11.157  
##  Median : 26.270   Median : 15.115   Median :-14.161   Median : -6.889  
##  Mean   :  9.312   Mean   : 10.187   Mean   :-18.423   Mean   :  5.638  
##  3rd Qu.: 42.694   3rd Qu.: 22.022   3rd Qu.:  5.948   3rd Qu.: 30.762  
##  Max.   : 79.870   Max.   : 63.587   Max.   : 22.828   Max.   : 49.396  
##       PC20              PC21              PC22               PC23         
##  Min.   :-16.764   Min.   :-33.301   Min.   :-10.8876   Min.   :-22.3197  
##  1st Qu.: -3.722   1st Qu.:-21.237   1st Qu.: -6.7743   1st Qu.: -7.6661  
##  Median :  6.418   Median :-16.137   Median : -0.6894   Median :  2.4680  
##  Mean   :  6.649   Mean   :-11.820   Mean   : -0.2455   Mean   :  0.5103  
##  3rd Qu.: 17.488   3rd Qu.: -1.437   3rd Qu.:  5.4412   3rd Qu.:  7.3526  
##  Max.   : 29.913   Max.   : 13.255   Max.   : 12.9009   Max.   : 26.4670  
##       PC24              PC25             PC26              PC27         
##  Min.   :-15.315   Min.   :-5.135   Min.   :-9.1490   Min.   :-1.21392  
##  1st Qu.: -6.961   1st Qu.:-1.887   1st Qu.:-0.2441   1st Qu.:-0.63604  
##  Median : -3.410   Median : 3.553   Median : 0.3004   Median :-0.08132  
##  Mean   : -2.309   Mean   : 3.908   Mean   : 0.0665   Mean   : 0.06161  
##  3rd Qu.:  4.209   3rd Qu.: 8.334   3rd Qu.: 1.4750   3rd Qu.: 0.38159  
##  Max.   :  9.918   Max.   :16.973   Max.   : 6.0605   Max.   : 1.77039  
##       PC28              PC29               PC30         
##  Min.   :-0.6308   Min.   :-0.15908   Min.   :-0.18877  
##  1st Qu.:-0.2450   1st Qu.:-0.12666   1st Qu.:-0.01186  
##  Median : 0.2825   Median :-0.01811   Median : 0.04850  
##  Mean   : 0.2987   Mean   : 0.01515   Mean   : 0.02593  
##  3rd Qu.: 0.8813   3rd Qu.: 0.10785   3rd Qu.: 0.06347  
##  Max.   : 1.2603   Max.   : 0.32976   Max.   : 0.18874
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-2.png" width="672" />

```
##    actual.var_38  actual.PC1 actual.PC2 actual.PC3 actual.PC4 actual.PC5
## 2       13094660    647.4398 -25474.920 -2256.6847  239.69148   558.4354
## 8       13479647  -8213.5205 -14701.933   232.2777   88.26957  -864.8146
## 9       10953743 -10507.3076 -14393.919 -1996.7444 -693.04227  -720.5918
## 16      10852992 -22542.9271  10486.150   222.4180 -584.69250   859.4453
## 18      11873364 -21540.1265   7865.062   864.6976 -187.97769   907.9271
## 21      12675352 -19194.3470  16785.932  -640.6599 -329.84165  -412.1988
## 25      12395256   9665.8232  14868.229  -931.3207 -389.47765  -180.8251
## 30      11626890  47162.5624   4800.611   318.2281 -486.10531   563.9753
##    actual.PC6 actual.PC7 actual.PC8   actual.PC9 actual.PC10 actual.PC11
## 2   1005.2530  335.90192 -253.22175    0.1047369    84.29595   114.86734
## 8   -542.3567 2134.49117  151.01535 -296.8975049    15.31494   -63.93510
## 9  -1086.8136 -653.03341  160.42307  -80.5398783   213.01169    33.58725
## 16  -391.6009   72.16141 -158.06321 -313.6314852   286.26917  -189.51958
## 18  -157.6949  117.57934   93.56274   68.6954191   -90.06168   117.10928
## 21   361.0906  137.51589   28.33093  252.7184038   -66.61915  -110.81415
## 25   309.4309 -312.81545   36.64083   58.1602405    35.86309   122.74444
## 30  -262.6966  427.67574  349.76406  -93.5071320   -87.19857   -45.81334
##    actual.PC12 actual.PC13 actual.PC14 actual.PC15 actual.PC16 actual.PC17
## 2     57.83241    47.90649   79.524684  -47.834287   14.013367 -22.9489437
## 8    -67.71526    80.82853   -4.104253  -24.517650   -9.803556  -0.4260296
## 9   -282.67734    88.76259   83.987985  133.602769   38.707773  15.3508202
## 16   -38.40229    25.36687  -56.498385   46.270648   38.526657  14.8800635
## 18  -161.55191  -176.40441    2.929076  -53.520584   79.869515  16.9480139
## 21  -209.09091    64.30928   45.943274  -22.514601  -69.745842 -43.1392782
## 25   173.96303   125.03276  -20.059355  -14.403779   54.654537  63.5869511
## 30    52.78031  -193.14013    1.737332   -5.697125  -71.725858  37.2432712
##    actual.PC18 actual.PC19 actual.PC20 actual.PC21 actual.PC22 actual.PC23
## 2     5.467628  -11.973870    6.599999  -20.430373 -10.8875749    1.440474
## 8   -25.029857   -5.309308   29.912997    5.646267  -2.1867985   -5.277829
## 9    -3.292896   49.396410    6.235989   -3.797611  -6.5876797    3.495465
## 16  -31.491626  -29.743607   -1.025584  -14.393891  12.9008952   26.467029
## 18  -50.289408   30.477205  -16.763925  -33.300518  -7.3342843  -22.319657
## 21   22.827952  -10.884791  -11.809374  -17.880686   5.2207532    7.151323
## 25  -72.967752   -8.469638   14.953509   13.254650   6.1025815  -14.830933
## 30    7.389080   31.615410   25.092204  -23.657705   0.8080943    7.956589
##    actual.PC24 actual.PC25 actual.PC26  actual.PC27 actual.PC28 actual.PC29
## 2    -6.349268   7.5803340  -9.1489743  0.008814464  -0.1589082  0.08767676
## 8     3.970636  -5.1348539   0.2526779 -0.786129228   0.1594706 -0.10343414
## 9    -4.615702  -0.8455567  -0.2170192  0.027565137  -0.5033159 -0.11863307
## 16    9.918288   0.9597078  -0.3255387  1.443656327   0.8337846  0.32975984
## 18   -2.204865  -5.0123869   1.1688719 -0.586015507  -0.6307888  0.16838884
## 21  -15.315281   6.1458591   6.0604521 -1.213921756   1.2602970  0.06721598
## 25    4.922422  16.9727958   2.3933536 -0.171448888   1.0237556 -0.15907821
## 30   -8.796112  10.5953080   0.3482075  1.770393897   0.4055260 -0.15073097
##     actual.PC30 predicted
## 2   0.047623189  12804078
## 8   0.049379112  12959999
## 9  -0.031769523  12980964
## 16 -0.005219862  12385345
## 18  0.094202315  12564756
## 21  0.188740809  12436175
## 25  0.053224285  12801836
## 30 -0.188772994  12323825
```

```
## [1] 999903.4
```

```
## [1] 6.960589
```
